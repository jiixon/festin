Feature: 내 대기 목록 조회
  사용자의 활성 대기 목록 조회 기능 검증 (Happy Path)

  Scenario: 대기 목록이 없는 경우
    Given 애플리케이션이 실행중이다
    And 테스트용 사용자 "user1"이 존재한다
    When "user1"이 내 대기 목록을 조회한다
    Then 대기 목록은 비어있다

  Scenario: WAITING 상태 대기 건 조회
    Given 애플리케이션이 실행중이다
    And 테스트용 사용자 "user1"이 존재한다
    And 테스트용 대학교 "서울대학교"가 존재한다
    And "서울대학교"에 정원 10명인 "치킨 부스" 부스가 존재한다
    And "user1"이 "치킨 부스"에 대기 등록했다
    When "user1"이 내 대기 목록을 조회한다
    Then 대기 목록 크기는 1이다
    And 첫 번째 대기 항목의 부스 이름은 "치킨 부스"이다
    And 첫 번째 대기 항목의 상태는 "WAITING"이다
    And 첫 번째 대기 항목의 순번은 1이다

  Scenario: CALLED 상태 대기 건 조회
    Given 애플리케이션이 실행중이다
    And 테스트용 사용자 "user1"이 존재한다
    And 테스트용 대학교 "서울대학교"가 존재한다
    And "서울대학교"에 정원 10명인 "치킨 부스" 부스가 존재한다
    And "user1"이 "치킨 부스"에 대기 등록했다
    And "치킨 부스"에서 다음 사람을 호출했다
    When "user1"이 내 대기 목록을 조회한다
    Then 대기 목록 크기는 1이다
    And 첫 번째 대기 항목의 부스 이름은 "치킨 부스"이다
    And 첫 번째 대기 항목의 상태는 "CALLED"이다
    And 첫 번째 대기 항목의 총 대기 인원은 0명이다
    And 첫 번째 대기 항목의 예상 대기 시간은 0분이다